<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络基础 | logNCat</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.209c7d81.css" as="style"><link rel="preload" href="/assets/js/app.d0ca7c12.js" as="script"><link rel="preload" href="/assets/js/2.f4616c2c.js" as="script"><link rel="preload" href="/assets/js/42.f9fc1fb8.js" as="script"><link rel="prefetch" href="/assets/js/10.d41298bf.js"><link rel="prefetch" href="/assets/js/11.5d3b5ee2.js"><link rel="prefetch" href="/assets/js/12.3d6859bb.js"><link rel="prefetch" href="/assets/js/13.d145c252.js"><link rel="prefetch" href="/assets/js/14.9bdc9be7.js"><link rel="prefetch" href="/assets/js/15.50fbe31f.js"><link rel="prefetch" href="/assets/js/16.17da369e.js"><link rel="prefetch" href="/assets/js/17.3a27af42.js"><link rel="prefetch" href="/assets/js/18.e8053149.js"><link rel="prefetch" href="/assets/js/19.fa086e74.js"><link rel="prefetch" href="/assets/js/20.d7be3382.js"><link rel="prefetch" href="/assets/js/21.4a6c71cd.js"><link rel="prefetch" href="/assets/js/22.fee4403a.js"><link rel="prefetch" href="/assets/js/23.e1618142.js"><link rel="prefetch" href="/assets/js/24.03c56867.js"><link rel="prefetch" href="/assets/js/25.3f02f5c7.js"><link rel="prefetch" href="/assets/js/26.725a4efd.js"><link rel="prefetch" href="/assets/js/27.0616430f.js"><link rel="prefetch" href="/assets/js/28.be231fe1.js"><link rel="prefetch" href="/assets/js/29.e527f665.js"><link rel="prefetch" href="/assets/js/3.fa68edb2.js"><link rel="prefetch" href="/assets/js/30.d1e417c2.js"><link rel="prefetch" href="/assets/js/31.9662ad3f.js"><link rel="prefetch" href="/assets/js/32.ad1d4a30.js"><link rel="prefetch" href="/assets/js/33.5f539bb4.js"><link rel="prefetch" href="/assets/js/34.c81733a0.js"><link rel="prefetch" href="/assets/js/35.9985b8a4.js"><link rel="prefetch" href="/assets/js/36.a60c2bde.js"><link rel="prefetch" href="/assets/js/37.4eab787f.js"><link rel="prefetch" href="/assets/js/38.93418f57.js"><link rel="prefetch" href="/assets/js/39.95c35312.js"><link rel="prefetch" href="/assets/js/4.8f8d9e03.js"><link rel="prefetch" href="/assets/js/40.b5d01ecc.js"><link rel="prefetch" href="/assets/js/41.db12a717.js"><link rel="prefetch" href="/assets/js/43.fc65dae4.js"><link rel="prefetch" href="/assets/js/44.2e0cac19.js"><link rel="prefetch" href="/assets/js/45.1003bf5e.js"><link rel="prefetch" href="/assets/js/46.799c6faa.js"><link rel="prefetch" href="/assets/js/47.5e5d95aa.js"><link rel="prefetch" href="/assets/js/5.eefe5d85.js"><link rel="prefetch" href="/assets/js/6.e6d51f2f.js"><link rel="prefetch" href="/assets/js/7.4cc231d3.js"><link rel="prefetch" href="/assets/js/8.f98b7ddf.js"><link rel="prefetch" href="/assets/js/9.b7bbc3bf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.209c7d81.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">logNCat</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><a href="/language/" class="link-title">语言</a> <span class="title" style="display:none;">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/c&amp;cpp/" class="nav-link">C&amp;Cpp</a></li><li class="dropdown-item"><!----> <a href="/language/bash/" class="nav-link">Bash</a></li><li class="dropdown-item"><!----> <a href="/language/Vimscript/" class="nav-link">Vimscript</a></li><li class="dropdown-item"><!----> <a href="/language/html/" class="nav-link">Html</a></li><li class="dropdown-item"><!----> <a href="/language/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/language/Javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/language/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/language/go/" class="nav-link">Go</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/database/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/note/" class="nav-link">Note</a></div><div class="nav-item"><a href="/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="mosqu1t0" class="dropdown-title"><!----> <span class="title" style="display:;">mosqu1t0</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mosqu1t0" target="_blank" rel="noopener noreferrer" class="nav-link external">
  My Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/poem.html" class="nav-link">Poem</a></li></ul></div></div> <a href="https://github.com/mosqu1t0/mosqu1t0.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><a href="/language/" class="link-title">语言</a> <span class="title" style="display:none;">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/c&amp;cpp/" class="nav-link">C&amp;Cpp</a></li><li class="dropdown-item"><!----> <a href="/language/bash/" class="nav-link">Bash</a></li><li class="dropdown-item"><!----> <a href="/language/Vimscript/" class="nav-link">Vimscript</a></li><li class="dropdown-item"><!----> <a href="/language/html/" class="nav-link">Html</a></li><li class="dropdown-item"><!----> <a href="/language/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/language/Javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/language/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/language/go/" class="nav-link">Go</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/database/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/note/" class="nav-link">Note</a></div><div class="nav-item"><a href="/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="mosqu1t0" class="dropdown-title"><!----> <span class="title" style="display:;">mosqu1t0</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mosqu1t0" target="_blank" rel="noopener noreferrer" class="nav-link external">
  My Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/poem.html" class="nav-link">Poem</a></li></ul></div></div> <a href="https://github.com/mosqu1t0/mosqu1t0.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Network</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/48612f/" class="sidebar-link">关于网络的垃圾话</a></li><li><a href="/pages/9a9f04/" class="sidebar-link">Websocket</a></li><li><a href="/pages/24e41f/" aria-current="page" class="active sidebar-link">网络基础</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><a href="/categories/?category=network" title="分类" data-v-1baff76c>network</a></li></ul> <div class="info" data-v-1baff76c><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2022-05-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">网络基础<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="osi-七层模型"><a href="#osi-七层模型" class="header-anchor">#</a> OSI 七层模型</h1> <p>网络原型，与tcp/ip模型有对应关系</p> <h1 id="tcp-ip-四层模型"><a href="#tcp-ip-四层模型" class="header-anchor">#</a> TCP/IP 四层模型</h1> <p>实际应用的模型</p> <ol><li><p>TCP/IP 四层模型与 OSI 七层模型对应关系</p> <ul><li><p>应用层 : 应用层、表示层、会话层</p> <ul><li>为用户提供所需的各种服务, 例如 FTP、Telnet、DNS、SMTP等</li></ul></li> <li><p>传输层 : 传输层
负责为应用层实体提供端到端的通信功能, 保证了数据包的顺序传送及数据的完整性, 该层定义了两个主要的协议 : 传输控制协议(TCP)可靠的面向连接,不会丢失,类似打电话,网页、邮件 和  用户数据报协议(UDP)不可靠的面向无连接,有可能丢失, 类似发短信、QQ
TCP的三次握手来源于 [两军问题]</p></li> <li><p>网际互联层 : 网络层
主要解决主机到主机的通信问题, 它所包含的协议涉及数据包在整个网络上的逻辑传输, 该层有三个主要协议 : 网际协议(IP), 互联网组管理协议(IGMP), 互联网控制报文协议(ICMP)</p></li> <li><p>网络接口层 : 数据链路层、物理层
负责监视数据在主机和网络之间的交换, 事实上, TCP/IP本身并未定义该层的协议, 而由参与互连的各网络使用自己的物理层和数据链路层协议, 然后与TCP/IP的网络接入层进行连接. 地址解析协议(ARP) 工作在此层, 即OSI参考模型的数据链路层.
地址解析协议(ARP) : 将IP地址 翻译成物理地址</p></li></ul></li> <li><p>数据封装过程(如图)
发送是由上至下进行打包, 接收是由下至上进行拆包</p></li> <li><p>TCP/IP  模型与OSI 模型的比较</p> <ul><li>共同点
<ol><li>OSI 参考模型和 TCP/IP参考模型都采用了层次结构的概 念</li> <li>都能够提供面向连接和无连接两种通信服务机制</li></ol></li> <li>不同点
<ol><li>OSI 七层, TCP/IP 四层</li> <li>对可靠性要求不同(TCP/IP 更高)</li> <li>OSI 模型是在协议开发前设计的, 具有通用性. TCP/IP 是先有协议集, 然后建立模型, 不适用与非TCP/IP网络</li> <li>实际市场应用不同( OSI 模型只是理论上的模型, 并没有成熟的产品, 而TCP/IP已经成为&quot;实际上的国际标准&quot;)</li></ol></li></ul></li></ol> <h1 id="ip地址"><a href="#ip地址" class="header-anchor">#</a> IP地址</h1> <p>IP地址范围是根据网段来划分。</p> <p>“127”网段只有一个IP（127.0.0.1）可用，代表当前计算机自己。</p> <p>IP地址的分类，a,b,c三类，d和e不对普通用户开放。</p> <ul><li><p>A类：第一位代表网段</p></li> <li><p>B类：前两位代表网段</p></li> <li><p>C类：前三位代表网段，剩下的位数代表不同网段内的主机。</p></li> <li><p>私有IP地址（内网）不能直接访问公网，也就是不同的局域网内的计算机可以使用相同的IP地址。</p></li> <li><p>网络类别的“D、E”不对民用开放。</p></li></ul> <ol><li>IP的取值范围为1.0.0.0-223.255.255.255。</li> <li>公网通信使用路由器，局域网通信使用交换机。</li> <li>A类IP第一段为网段，B类IP前两段为网段，C类IP前三段为网段，其余的是网段内的主机。</li> <li>同一网段内的首地址为网络本身不能被使用，同一网段内的末地址为当前网络的广播地址，拿A类IP地址举例，1.0.0.0为网络本身，1.255.255.255为广播地址</li></ol> <blockquote><p>MAC 地址是网卡的物理地址，每个网卡独一无二(但是可改(笑))，用于局域网内交换机识别交互，若本地的mac地址重复会导致上不了网</p></blockquote> <h1 id="命令-配置ip地址"><a href="#命令-配置ip地址" class="header-anchor">#</a> 命令)配置IP地址</h1> <ol><li>ifconfig 命令临时配置ip地址
<ul><li>查看与配置网络状态命令</li> <li><code>ifconfig eth0 192.168.0.200 netmask 255.255.255.0</code>临时设置eth0 网卡的ip地址与子网掩码</li></ul></li> <li>setup 工具永久配置ip地址(Redhat)</li> <li>修改网络配置文件</li> <li>图形界面配置IP地址</li></ol> <ul><li>ip 命令
<ul><li>ip addr show 查看网络接口及其连接的地址</li> <li>ip neigh 查看局域网的设备mac和内网ip地址</li> <li>ip link set wlan0 up/down 来激活或停止网络接口</li></ul></li></ul> <blockquote><p>ifconfig 属于net-tools 包		ip 属于 iproute2 包</p> <p>dhcp：自动分配ip dns 网关</p></blockquote> <h1 id="常见端口号"><a href="#常见端口号" class="header-anchor">#</a> 常见端口号</h1> <p>大部分是tcp/ip协议的端口</p> <table><thead><tr><th>协议名</th> <th>功能</th> <th>端口</th></tr></thead> <tbody><tr><td>FTP</td> <td>文件传输协议</td> <td>20(文件传输) 21(指令传输)</td></tr> <tr><td>SSH</td> <td>安全shell协议</td> <td>22</td></tr> <tr><td>telnet</td> <td>远程登陆协议(没有验证，安全性低)</td> <td>23(默认关闭)</td></tr> <tr><td>DNS</td> <td>域名系统</td> <td>53(tcp/udp)</td></tr> <tr><td>http</td> <td>超文本传输协议</td> <td>80</td></tr> <tr><td>SMTP</td> <td>简单邮件传输协议(发邮件)</td> <td>25</td></tr> <tr><td>POP3</td> <td>邮局协议3代(收邮件)</td> <td>110</td></tr></tbody></table> <h1 id="命令-查看本机启用的端口"><a href="#命令-查看本机启用的端口" class="header-anchor">#</a> 命令)查看本机启用的端口</h1> <p><code>netstat -an</code></p> <ul><li>-a：查看所有连接和监听端口</li> <li>-n：显示IP地址和端口号，而不显示域名和服务名</li> <li>-t：列出TCP数据</li> <li>-u：列出UDP数据</li> <li>-l：列出正在监听的网络服务(不包括已连接)</li> <li>-n：用端口显示服务，不用服务名</li> <li>-p：列出该服务的进程ID(PID)</li></ul> <blockquote><p>属于软件包net-tools</p></blockquote> <p><code>ss</code> (Socket Statistics)</p> <p>显示和netstat类似的内容。但是ss的优势在于它能够显示更详细的有关***网络连接的状态信息***，而比netstat更快速、更高效。</p> <ul><li><p>-ta：查看TCP sockets</p></li> <li><p>-ua：查看UDP sockets</p></li> <li><p>-wa：查看RAW sockets</p></li> <li><p>-xa：查看UNIS sockets</p></li></ul> <p>LISTEN状态
Recv-Q：代表建立的连接还有多少没有被accept，比如Nginx接受新连接变的很慢
Send-Q：代表listen backlog值
ESTAB状态
Recv-Q：内核中的数据还有多少(bytes)没有被应用程序读取，发生了一定程度的阻塞
Send-Q：代表内核中发送队列里还有多少(bytes)数据没有收到ack，对端的接收处理能力不强</p> <blockquote><p>属于软件包iproute2</p></blockquote> <p><code>ss dport = :http</code> 查看所有 http 连接</p> <p><code>ss dst 10.66.224.130</code> 查看和ip有关的连接</p> <h1 id="子网掩码"><a href="#子网掩码" class="header-anchor">#</a> 子网掩码</h1> <p>子网掩码：用连续1的表示，例如255.0.0.0，255.255.0.0，255.255.255.0</p> <p>255 部分确定对应ip的不同网段，0部分确定对应ip不同的主机</p> <ol><li><p>子网掩码的作用：用来区分不同网段的IP</p> <ul><li><p>子网掩码与IP相与，得到的结果相同，则在同一网段</p></li> <li><p>否则不在，需要经过路由器转发</p></li></ul></li> <li><p>IP和子网掩码必须一起配合使用。</p></li> <li><p>网络号=IP &amp; 子网掩码</p></li> <li><p>广播地址：主机号全为1</p></li></ol> <h1 id="dns"><a href="#dns" class="header-anchor">#</a> DNS</h1> <p>Domain Name System 域名系统的缩写，也称作名称解析、</p> <p>互联网中通过IP地址来通信，且ip是动态分配的，dns把<strong>域名</strong>翻译为<strong>ip地址</strong>，方便记忆，访问</p> <p>访问一个域名会通过dns翻译成ip地址再访问</p> <h3 id="hosts"><a href="#hosts" class="header-anchor">#</a> hosts</h3> <p>计算机内hosts文件的 作用是在本地<strong>静态</strong>地把 <strong>ip地址</strong> 和 <strong>域名</strong> 绑定起来</p> <ul><li><p>hosts文件的优先级高于DNS解析</p></li> <li><p>名称解析效能下降</p></li> <li><p>主机维护困难</p></li></ul> <h3 id="dns服务"><a href="#dns服务" class="header-anchor">#</a> DNS服务</h3> <ul><li>层次性</li> <li>分布式</li></ul> <p>步骤</p> <ol><li>客户机向dns服务器发送域名查询请求(dns服务器后台向根域名查询)</li> <li>dns将域名解析为ip地址</li> <li>dns服务器告知客户机web服务器的ip地址</li> <li>客户机与web服务器通信</li></ol> <p>查询过程</p> <p>例:</p> <div class="language-mermaid extra-class"><pre class="language-mermaid"><code><span class="token keyword">graph</span> LR<span class="token punctuation">;</span>
A<span class="token text string">(DNS客户机)</span><span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">1</span><span class="token arrow operator">--&gt;</span></span>B<span class="token text string">(本地域名服务器)</span><span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">2</span><span class="token arrow operator">--&gt;</span></span>C<span class="token text string">(根DNS服务器)</span><span class="token arrow operator">-..-&gt;</span>D<span class="token text string">(地域服务器cn)</span>
C<span class="token arrow operator">-..-&gt;</span>B<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">3</span><span class="token arrow operator">--&gt;</span></span>D<span class="token arrow operator">-..-&gt;</span>E<span class="token text string">(com.cn)</span><span class="token arrow operator">-..-&gt;</span>B<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">5</span><span class="token arrow operator">--&gt;</span></span>F<span class="token arrow operator">-..-&gt;</span>B<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">6</span><span class="token arrow operator">--&gt;</span></span>G
D<span class="token arrow operator">-..-&gt;</span>B<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">4</span><span class="token arrow operator">--&gt;</span></span>E<span class="token arrow operator">-..-&gt;</span>F<span class="token text string">(hello.com.cn)</span><span class="token arrow operator">-..-&gt;</span>G<span class="token text string">(www.hello.com.cn)</span>
B<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span><span class="token label property">7</span><span class="token arrow operator">--&gt;</span></span>A
</code></pre></div><p>查询方式上分：</p> <ul><li>DNS客户机向本地域名服务器查询为：递归查询 (必返回正确结果，若无结果就报错，允许向其他服务器查询)</li> <li>根服务器 与其他他服务器间的查询为：迭代查询 (找不到就返回一个最优的结果，不断更新)</li></ul> <p>查询内容上分：</p> <ul><li>正向查询由域名查找IP地址(一般)</li> <li>反向查询由IP地址查找域名(邮件服务器)</li></ul> <blockquote><p>若本地域名服务器存有该域名的缓存，就可以直接响应客户机，无需访问其他服务器(缓存过期就删除)</p></blockquote> <h3 id="域名"><a href="#域名" class="header-anchor">#</a> 域名</h3> <p>组成</p> <ul><li>根域：<code>.</code>（世界上的13台根DNS服务器）</li> <li>顶级域/一级域
<ul><li>组织域：<code>gov政府</code> <code>edu教育部门</code> <code>com商业部门</code> <code>org民间团体</code> <code>net网络服务机构</code> <code>mil军事部门</code></li> <li>国家/地区域：<code>cn 中国</code> <code>hk 香港</code> <code>jp 日本</code> <code>Uk 英国</code> <code>au 澳大利亚</code></li></ul></li> <li>二级域：企业或个人自行购买的（imooc /microsoft/ibm/sina）</li> <li>主机名/3级域：申请完二级域后自己定义的（www/news）</li></ul> <p>三级域+二级域+顶级域 组成完整域名空间，且每个域名是全球唯一的</p> <p>通过域名分级，能更好地管理和查询ip地址</p> <p>(钓鱼网站的域名会和真实网站的有字母差别(笑))</p> <h1 id="网关"><a href="#网关" class="header-anchor">#</a> 网关</h1> <p>Gateway 又称网间连接器、协议转换器，具有路由功能，可以是路由器，服务器</p> <ol><li><p>网关在网络层以上实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连</p></li> <li><p>网关既可以用于广域网互连，也可以用于局域网互连</p></li> <li><p>网关是一种充当转换重任的服务器或路由器</p></li></ol> <ul><li>网关作用：通俗的认为，具有路由功能的一种物理设备，可以是路由器或者由服务器搭建的能实现路由功能的设备</li> <li>局域网内：通过交换机进行数据交换。交换机是低级设备，不认识Ip只识别mac，数据链路层设备</li> <li>网间或者不同网段：通过路由器（网关）进行数据交换。外网转内网，内网转外网</li> <li>网关实现网络的层次，网关之后还有网关</li> <li>内网不能直接访问内网</li></ul> <p>网关作用：
1）网关在所有内网计算机访问的不是本网段的数据包时使用，只要不是局域网内交换数据就一定要经过网关，即网关分开内网和外网
2）把内网Ip转公网Ip，公网Ip转内网Ip</p> <blockquote><p>不配置网关和DNS，不影响在局域网内的通信，若要上网必须配置</p></blockquote> <h1 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h1> <p>1.ping [选项] ip或域名：测试网络的连通性
选项：
-c：次数
2.telnet IP：（明文传递，很不安全，现基本上已被ssh代替）做端口探测和windows一样
3.traceroute：路由跟踪命令
查看中间所经过的节点，故障定位。
4.wget URL：下载命令
5.tcpdump：抓包命令
举例：tcpdump -i eth0 -nnX port 21
抓取eth0网卡上的数据包，以16进制拆分数据包,(但是用port 21可以只拆分21端口)
<!----></p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/mosqu1t0/mosqu1t0.github.io/edit/master/docs/network/网络基础.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/9a9f04/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Websocket</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/9a9f04/" class="prev">Websocket</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/poem.html"><div>
            
            <!----></div></a> <span class="date"></span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/cc7867/"><div>
            后端路线
            <!----></div></a> <span class="date">05-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/9a9f04/"><div>
            Websocket
            <!----></div></a> <span class="date">05-26</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>博客内容属于mosqu1t0所有</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><div></div></div></div>
    <script src="/assets/js/app.d0ca7c12.js" defer></script><script src="/assets/js/2.f4616c2c.js" defer></script><script src="/assets/js/42.f9fc1fb8.js" defer></script>
  </body>
</html>
