(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{349:function(t,a,s){"use strict";s.r(a);var e=s(10),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"restful-md"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restful-md"}},[t._v("#")]),t._v(" RESTFul.md")]),t._v(" "),a("h2",{attrs:{id:"restful-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restful-简介"}},[t._v("#")]),t._v(" RESTFul 简介")]),t._v(" "),a("p",[t._v("RESTFul 是一种软件架构思想")]),t._v(" "),a("p",[t._v("REST: "),a("code",[t._v("Representational State Transfer")]),t._v(",表现层资源资源状态转移")]),t._v(" "),a("ul",[a("li",[t._v("资源")])]),t._v(" "),a("blockquote",[a("p",[t._v("资源是一种看待服务器的方式，即，将服务器看作是由很多离散的资源组成.每个资源组成.每个资源是服务器上一个可命名的抽象概念.因为资源是一个抽象的概念，所以它不仅仅能代表服务器文件系统中的一个文件、数据库中的一张表等等具体的东西，可以将资源设计的要多抽象有多抽象，只要想象力允许并且客户端应用开发者能够理解.与面向对象设计类似，资源是以名词为核心来组织的，首先关注的是名词.一个资源可以由一个或多个 URL 来标识.URL 既是资源的名称，也是资源在 web 上的地址，对某个资源感兴趣的客户端应用，可以通过资源的 URL 既是资源的名称与其进行交互")])]),t._v(" "),a("ul",[a("li",[t._v("资源的表述")])]),t._v(" "),a("blockquote",[a("p",[t._v("资源的表述是一段对于资源在某个特定时刻的状态的描述.可以在客户端，服务端之间转移（交换）.资源的表述可以有多种格式，例如"),a("code",[t._v("HTML/XML/JSON/纯文本/图片/视频/音频")]),t._v("等等.资源的表述格式可以通过协商机制来确定.请求-相应方向的表述通常使用不同的格式。")])]),t._v(" "),a("ul",[a("li",[t._v("状态转移")])]),t._v(" "),a("blockquote",[a("p",[t._v("状态转移说的是：在客户端和服务端之间转移(transfer)代表资源状态的表述.通过转移和操作资源的表述，来间接实现操作资源的目的。")])]),t._v(" "),a("h2",{attrs:{id:"restful-的实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restful-的实现"}},[t._v("#")]),t._v(" RESTFul 的实现")]),t._v(" "),a("p",[t._v("具体说，就是 HTTP 协议里面，四个表示操作方式的动词："),a("code",[t._v("GET")]),t._v(", "),a("code",[t._v("POST")]),t._v(", "),a("code",[t._v("PUT")]),t._v(", "),a("code",[t._v("DELETE")])]),t._v(" "),a("p",[t._v("它们分别对应四种基本操作："),a("code",[t._v("GET 用来获取资源")]),t._v(","),a("code",[t._v("POST 用来新建资源")]),t._v(","),a("code",[t._v("PUT 用来更新资源")]),t._v(","),a("code",[t._v("DELETE 用来删除资源")])]),t._v(" "),a("p",[t._v("REST 风格提倡 URL 地址使用统一的风格设计，从前到后各个单词使用斜杠分开，不使用问号键值对方式携带请求参数，而是将要发送给服务器的数据作为 URL 地址的一部分，以保证整体风格的一致性。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("操作")]),t._v(" "),a("th",[t._v("传统方式")]),t._v(" "),a("th",[t._v("REST 风格")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("查询操作")]),t._v(" "),a("td",[a("code",[t._v("getUserById?id=1")])]),t._v(" "),a("td",[a("code",[t._v("user/1")]),t._v(", get 请求方式")])]),t._v(" "),a("tr",[a("td",[t._v("保存操作")]),t._v(" "),a("td",[a("code",[t._v("saveUser")])]),t._v(" "),a("td",[a("code",[t._v("user")]),t._v(", post 请求方式")])]),t._v(" "),a("tr",[a("td",[t._v("删除操作")]),t._v(" "),a("td",[a("code",[t._v("deleteUser?id=1")])]),t._v(" "),a("td",[a("code",[t._v("user/1")]),t._v(", delete 请求方式")])]),t._v(" "),a("tr",[a("td",[t._v("更新操作")]),t._v(" "),a("td",[a("code",[t._v("updateUser")])]),t._v(" "),a("td",[a("code",[t._v("user")]),t._v(", put 请求方式")])])])]),t._v(" "),a("h2",{attrs:{id:"hiddenhttpmethodfilter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hiddenhttpmethodfilter"}},[t._v("#")]),t._v(" HiddenHttpMethodFilter")]),t._v(" "),a("p",[t._v("在浏览器中除了使用"),a("code",[t._v("ajax")]),t._v("外，默认只能使用表单提交"),a("code",[t._v("GET")]),t._v("和"),a("code",[t._v("POST")]),t._v("请求。")]),t._v(" "),a("p",[t._v("其他请求方式都默认变为"),a("code",[t._v("GET")])]),t._v(" "),a("p",[t._v("因此可以使用"),a("code",[t._v("HiddenHttpMethodFilter")]),t._v("过滤器模拟除了"),a("code",[t._v("GET")]),t._v("和"),a("code",[t._v("POST")]),t._v("外的请求方式")]),t._v(" "),a("h3",{attrs:{id:"实现原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现原理"}},[t._v("#")]),t._v(" 实现原理")]),t._v(" "),a("p",[t._v("以"),a("code",[t._v("PUT")]),t._v("举例：")]),t._v(" "),a("ol",[a("li",[t._v("通过在前端表单内放一个"),a("code",[t._v('<input type="hidden" name="_method" value="PUT"/>')]),t._v("隐藏标签，传输类似"),a("code",[t._v("_method=PUT")]),t._v("的 param")]),t._v(" "),a("li",[a("code",[t._v("HiddenHttpMethodFilter")]),t._v("在"),a("code",[t._v("Servlet")]),t._v("识别请求前，把请求类的请求方式伪装为"),a("code",[t._v("PUT")])]),t._v(" "),a("li",[a("code",[t._v("Servlet")]),t._v("识别到的请求方式为"),a("code",[t._v("PUT")]),t._v(",相应的"),a("code",[t._v("Controller")]),t._v("处理请求")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/94043894/176838688-209e6751-b583-4a4b-9605-d58d187bc04c.png",alt:"image"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/94043894/176854346-2cbd0a88-b4b2-4815-a5d7-31ed96b80a23.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"注册过滤器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册过滤器"}},[t._v("#")]),t._v(" 注册过滤器")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- web.xml --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("HiddenHttpMethodFilter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.web.filter.HiddenHttpMethodFilter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-mapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("HiddenHttpMethodFilter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url-pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/*"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url-pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-mapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("任何过滤器必须要配置在"),a("code",[t._v("CharacterEncodingFilter")]),t._v("前面，因为一旦其他过滤器使用获取了 request 对象，"),a("code",[t._v("CharacterEncodingFilter")]),t._v("就会失效")])])])}),[],!1,null,null,null);a.default=n.exports}}]);