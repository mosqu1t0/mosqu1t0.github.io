import{_ as n,c as s,o as a,a as t}from"./app.f2ba6d58.js";const b='{"title":"\u642D\u5EFA MyBatis","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5F00\u53D1\u73AF\u5883","slug":"\u5F00\u53D1\u73AF\u5883"},{"level":2,"title":"\u521B\u5EFA maven \u5DE5\u7A0B","slug":"\u521B\u5EFA-maven-\u5DE5\u7A0B"},{"level":2,"title":"\u521B\u5EFA MyBatis \u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6","slug":"\u521B\u5EFA-mybatis-\u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6"},{"level":2,"title":"\u5EFA\u8868","slug":"\u5EFA\u8868"},{"level":2,"title":"\u521B\u5EFA mapper \u63A5\u53E3","slug":"\u521B\u5EFA-mapper-\u63A5\u53E3"},{"level":2,"title":"\u521B\u5EFA MyBatis \u7684\u6620\u5C04\u6587\u4EF6","slug":"\u521B\u5EFA-mybatis-\u7684\u6620\u5C04\u6587\u4EF6"},{"level":2,"title":"\u901A\u8FC7 jnuit \u6D4B\u8BD5\u529F\u80FD","slug":"\u901A\u8FC7-jnuit-\u6D4B\u8BD5\u529F\u80FD"},{"level":2,"title":"\u52A0\u5165 log4j \u65E5\u5FD7\u529F\u80FD","slug":"\u52A0\u5165-log4j-\u65E5\u5FD7\u529F\u80FD"},{"level":3,"title":"\u52A0\u5165\u4F9D\u8D56","slug":"\u52A0\u5165\u4F9D\u8D56"},{"level":3,"title":"\u52A0\u5165 log4 \u7684\u914D\u7F6E\u6587\u4EF6","slug":"\u52A0\u5165-log4-\u7684\u914D\u7F6E\u6587\u4EF6"}],"relativePath":"web/java/ssm/mybatis/02-\u642D\u5EFAMyBatis.md","lastUpdated":1657092066000}',p={},e=t(`<h1 id="\u642D\u5EFA-mybatis" tabindex="-1">\u642D\u5EFA MyBatis <a class="header-anchor" href="#\u642D\u5EFA-mybatis" aria-hidden="true">#</a></h1><h2 id="\u5F00\u53D1\u73AF\u5883" tabindex="-1">\u5F00\u53D1\u73AF\u5883 <a class="header-anchor" href="#\u5F00\u53D1\u73AF\u5883" aria-hidden="true">#</a></h2><ul><li>IDE: idea 2022.1</li><li>\u6784\u5EFA\u5DE5\u5177\uFF1Amaven 3.8.1</li><li>MySQL \u7248\u672C\uFF1AMySQL 5.6</li><li>MyBatis \u7248\u672C\uFF1AMyBatis 3.5.10</li></ul><h2 id="\u521B\u5EFA-maven-\u5DE5\u7A0B" tabindex="-1">\u521B\u5EFA maven \u5DE5\u7A0B <a class="header-anchor" href="#\u521B\u5EFA-maven-\u5DE5\u7A0B" aria-hidden="true">#</a></h2><ul><li>\u6253\u5305\u65B9\u5F0F\uFF1Ajar</li><li>\u5F15\u5165\u4F9D\u8D56</li></ul><div class="language-xml line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- mybatis --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- junit \u6D4B\u8BD5 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- MySQL \u9A71\u52A8 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="\u521B\u5EFA-mybatis-\u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6" tabindex="-1">\u521B\u5EFA MyBatis \u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6 <a class="header-anchor" href="#\u521B\u5EFA-mybatis-\u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a></h2><div class="language-xml line-numbers-mode"><pre><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
 <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
 <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org/mybatis/example/BlogMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>\u4E60\u60EF\u4E0A\u547D\u540D\u4E3A<code>mybatis-config.xml</code>\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u540D\u4EC5\u4EC5\u53EA\u662F\u5EFA\u8BAE\uFF0C\u5E76\u975E\u5F3A\u5236\u8981\u6C42\u3002\u5C06\u6765\u6574\u5408 Spring \u4E4B\u540E\uFF0C\u8FD9\u4E2A\u914D\u7F6E\u6587\u4EF6\u53EF\u4EE5\u7701\u7565\uFF0C\u6240\u4EE5\u64CD\u4F5C\u65F6\u53EF\u4EE5\u76F4\u63A5\u590D\u5236\u3001\u7C98\u8D34\u3002</p><p>\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6\u4E3B\u8981\u7528\u4E8E\u914D\u7F6E\u8FDE\u63A5\u6570\u636E\u5E93\u7684\u73AF\u5883\u4EE5\u53CA MyBatis \u7684\u5168\u5C40\u914D\u7F6E\u4FE1\u606F</p><p>\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6\u5B58\u653E\u7684\u4F4D\u7F6E\u662F<code>src/main/resources</code>\u76EE\u5F55\u4E0B</p></div><h2 id="\u5EFA\u8868" tabindex="-1">\u5EFA\u8868 <a class="header-anchor" href="#\u5EFA\u8868" aria-hidden="true">#</a></h2><div class="language-sql line-numbers-mode"><pre><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>usr<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>username<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>age<span class="token punctuation">\`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>sex<span class="token punctuation">\`</span></span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>email<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u521B\u5EFA-mapper-\u63A5\u53E3" tabindex="-1">\u521B\u5EFA mapper \u63A5\u53E3 <a class="header-anchor" href="#\u521B\u5EFA-mapper-\u63A5\u53E3" aria-hidden="true">#</a></h2><div class="language-java line-numbers-mode"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
	<span class="token comment">/**
	* \u6DFB\u52A0\u7528\u6237\u4FE1\u606F
	*/</span>
	<span class="token keyword">int</span> <span class="token function">insertUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="\u521B\u5EFA-mybatis-\u7684\u6620\u5C04\u6587\u4EF6" tabindex="-1">\u521B\u5EFA MyBatis \u7684\u6620\u5C04\u6587\u4EF6 <a class="header-anchor" href="#\u521B\u5EFA-mybatis-\u7684\u6620\u5C04\u6587\u4EF6" aria-hidden="true">#</a></h2><ul><li>\u76F8\u5173\u6982\u5FF5\uFF1AORM\uFF08Object Relationship Mapping\uFF09\u5BF9\u8C61\u5173\u7CFB\u6620\u5C04\u3002 <ul><li>\u5BF9\u8C61\uFF1AJava \u7684\u5B9E\u4F53\u7C7B\u5BF9\u8C61</li><li>\u5173\u7CFB\uFF1A\u5173\u7CFB\u578B\u6570\u636E\u5E93</li><li>\u6620\u5C04\uFF1A\u4E8C\u8005\u4E4B\u95F4\u7684\u5BF9\u5E94\u5173\u7CFB</li></ul></li></ul><table><thead><tr><th>Java \u6982\u5FF5</th><th>\u6570\u636E\u5E93\u6982\u5FF5</th></tr></thead><tbody><tr><td>\u7C7B</td><td>\u8868</td></tr><tr><td>\u5C5E\u6027</td><td>\u5B57\u6BB5/\u5217</td></tr><tr><td>\u5BF9\u8C61</td><td>\u8BB0\u5F55/\u884C</td></tr></tbody></table><ul><li>\u6620\u5C04\u6587\u4EF6\u7684\u547D\u540D\u89C4\u5219 <ul><li>\u8868\u6240\u5BF9\u5E94\u7684\u5B9E\u4F53\u7C7B\u7684<code>\u7C7B\u540D+ Mapper.xml</code></li><li>\u4F8B\u5982\uFF1A\u8868<code>t_user</code>\uFF0C\u6620\u5C04\u7684\u5B9E\u4F53\u7C7B\u4E3A User\uFF0C\u6240\u5BF9\u5E94\u7684\u6620\u5C04\u6587\u4EF6\u4E3A<code>UserMapper.xml</code></li><li>\u56E0\u6B64\u4E00\u4E2A\u6620\u5C04\u6587\u4EF6\u5BF9\u5E94\u4E00\u4E2A\u5B9E\u4F53\u7C7B\uFF0C\u5BF9\u5E94\u4E00\u5F20\u8868\u7684\u64CD\u4F5C</li><li>MyBatis \u6620\u5C04\u6587\u4EF6\u7528\u4E8E\u7F16\u5199 SQL\uFF0C\u8BBF\u95EE\u4EE5\u53CA\u64CD\u4F5C\u8868\u4E2D\u7684\u6570\u636E</li><li>MyBatis \u6620\u5C04\u6587\u4EF6\u5B58\u653E\u7684\u4F4D\u7F6E\u662F<code>src/main/resources/mappers</code>\u76EE\u5F55\u4E0B</li></ul></li><li>MyBatis \u4E2D\u53EF\u4EE5\u9762\u5411\u63A5\u53E3\u64CD\u4F5C\u6570\u636E\uFF0C\u8981\u4FDD\u8BC1\u4E24\u4E2A\u4E00\u81F4 <ul><li>mapper \u63A5\u53E3\u7684\u5168\u7C7B\u540D\u548C\u6620\u5C04\u6587\u4EF6\u7684\u547D\u540D\u7A7A\u95F4\uFF08namespace\uFF09\u4FDD\u6301\u4E00\u81F4</li><li>mapper \u63A5\u53E3\u4E2D\u65B9\u6CD5\u7684\u65B9\u6CD5\u540D\u548C\u6620\u5C04\u6587\u4EF6\u4E2D\u7F16\u5199 SQL \u7684\u6807\u7B7E\u7684 id \u5C5E\u6027\u4FDD\u6301\u4E00\u81F4</li></ul></li></ul><div class="language-xml line-numbers-mode"><pre><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
 <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
 <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.example.BlogMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectBlog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 select * from Blog where id = #{id}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u901A\u8FC7-jnuit-\u6D4B\u8BD5\u529F\u80FD" tabindex="-1">\u901A\u8FC7 jnuit \u6D4B\u8BD5\u529F\u80FD <a class="header-anchor" href="#\u901A\u8FC7-jnuit-\u6D4B\u8BD5\u529F\u80FD" aria-hidden="true">#</a></h2><ul><li><strong>SqlSession</strong>\uFF1A\u4EE3\u8868 Java \u7A0B\u5E8F\u548C\u6570\u636E\u5E93\u4E4B\u95F4\u7684\u4F1A\u8BDD\u3002\uFF08HttpSession \u662F Java \u7A0B\u5E8F\u548C\u6D4F\u89C8\u5668\u4E4B\u95F4\u7684\u4F1A\u8BDD\uFF09</li><li><strong>SqlSessionFactory</strong>\uFF1A\u662F\u201C\u751F\u4EA7\u201DSqlSession \u7684\u201C\u5DE5\u5382\u201D</li><li><strong>\u5DE5\u5382\u6A21\u5F0F</strong>\uFF1A\u5982\u679C\u521B\u5EFA\u67D0\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4F7F\u7528\u7684\u8FC7\u7A0B\u57FA\u672C\u56FA\u5B9A\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C31\u53EF\u4EE5\u628A\u521B\u5EFA\u8FD9\u4E2A\u5BF9\u8C61\u7684\u76F8\u5173\u4EE3\u7801\u5C01\u88C5\u5230\u4E00\u4E2A\u201C\u5DE5\u5382\u7C7B\u201D\u4E2D\uFF0C\u4EE5\u540E\u90FD\u4F7F\u7528\u8FD9\u4E2A\u5DE5\u5382\u7C7B\u6765\u201C\u751F\u4EA7\u201D\u6211\u4EEC\u9700\u8981\u7684\u5BF9\u8C61</li></ul><div class="language-Java line-numbers-mode"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserMapperTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testInsertUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8BFB\u53D6 MyBatis \u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6</span>
        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6 SqlSessionFactoryBuilder \u5BF9\u8C61</span>
        <span class="token class-name">SqlSessionFactoryBuilder</span> sqlSessionFactoryBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u901A\u8FC7\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6\u6240\u5BF9\u5E94\u7684\u5B57\u8282\u8F93\u5165\u6D41\u521B\u5EFA\u5DE5\u5382\u7C7B SqlSessionFactory\uFF0C\u751F\u4EA7 SqlSession \u5BF9\u8C61</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> sqlSessionFactoryBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6 sqlSession\uFF0C\u6B64\u65F6\u901A\u8FC7 SqlSession \u5BF9\u8C61\u6240\u64CD\u4F5C\u7684 sql \u90FD\u5FC5\u987B\u624B\u52A8\u63D0\u4EA4\u6216\u56DE\u6EDA\u4E8B\u52A1</span>
        <span class="token comment">//SqlSession sqlSession = sqlSessionFactory.openSession();</span>
	    <span class="token comment">//\u521B\u5EFA SqlSession \u5BF9\u8C61\uFF0C\u6B64\u65F6\u901A\u8FC7 SqlSession \u5BF9\u8C61\u6240\u64CD\u4F5C\u7684 sql \u90FD\u4F1A\u81EA\u52A8\u63D0\u4EA4</span>
		<span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u901A\u8FC7\u4EE3\u7406\u6A21\u5F0F\u521B\u5EFA UserMapper \u63A5\u53E3\u7684\u4EE3\u7406\u5B9E\u73B0\u7C7B\u5BF9\u8C61</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u8C03\u7528 UserMapper \u63A5\u53E3\u4E2D\u7684\u65B9\u6CD5\uFF0C\u5C31\u53EF\u4EE5\u6839\u636E UserMapper \u7684\u5168\u7C7B\u540D\u5339\u914D\u5143\u7D20\u6587\u4EF6\uFF0C\u901A\u8FC7\u8C03\u7528\u7684\u65B9\u6CD5\u540D\u5339\u914D\u6620\u5C04\u6587\u4EF6\u4E2D\u7684 SQL \u6807\u7B7E\uFF0C\u5E76\u6267\u884C\u6807\u7B7E\u4E2D\u7684 SQL \u8BED\u53E5</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">insertUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u63D0\u4EA4\u4E8B\u52A1</span>
        <span class="token comment">//sqlSession.commit();</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result:&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>\u6B64\u65F6\u9700\u8981\u624B\u52A8\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u5982\u679C\u8981\u81EA\u52A8\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u5219\u5728\u83B7\u53D6 sqlSession \u5BF9\u8C61\u65F6\uFF0C\u4F7F\u7528<code>SqlSession sqlSession = sqlSessionFactory.openSession(true);</code>\uFF0C\u4F20\u5165\u4E00\u4E2A Boolean \u7C7B\u578B\u7684\u53C2\u6570\uFF0C\u503C\u4E3A true\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u81EA\u52A8\u63D0\u4EA4</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>\u5982\u679C insert \u4E2D\u6587\u7684\u65F6\u5019\uFF0C\u53D8\u6210<code>???</code>,\u4E00\u822C\u6709\u4E24\u79CD\u60C5\u51B5\uFF1A</p><ol><li>\u6570\u636E\u5E93\u672C\u8EAB\u8BBE\u7F6E</li><li>\u8FDE\u63A5\u6570\u636E\u5E93\u65F6\uFF0Cjdbc \u7684\u7F16\u7801\u8BBE\u7F6E</li></ol><p>\u5982\u679C\u662F\u7B2C\u4E00\u79CD\uFF1A \u7528 <code>show variables like &#39;%character%&#39;</code> \u67E5\u770B\u81EA\u8EAB\u7684 mysql \u8BBE\u7F6E</p><p>\u7B2C\u4E8C\u79CD\uFF1A</p><div class="language-xml line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://175.178.69.145:3306/mybatis?useUnicode=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>characterEncoding=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--
\u5982\u679C url \u5199\u5728 value \u91CC &amp; \u9700\u8981\u8F6C\u4E49
&amp;amp;\u8868\u793A \u7B26\u53F7&amp; --&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><h2 id="\u52A0\u5165-log4j-\u65E5\u5FD7\u529F\u80FD" tabindex="-1">\u52A0\u5165 log4j \u65E5\u5FD7\u529F\u80FD <a class="header-anchor" href="#\u52A0\u5165-log4j-\u65E5\u5FD7\u529F\u80FD" aria-hidden="true">#</a></h2><h3 id="\u52A0\u5165\u4F9D\u8D56" tabindex="-1">\u52A0\u5165\u4F9D\u8D56 <a class="header-anchor" href="#\u52A0\u5165\u4F9D\u8D56" aria-hidden="true">#</a></h3><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- log4j \u65E5\u5FD7 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="\u52A0\u5165-log4-\u7684\u914D\u7F6E\u6587\u4EF6" tabindex="-1">\u52A0\u5165 log4 \u7684\u914D\u7F6E\u6587\u4EF6 <a class="header-anchor" href="#\u52A0\u5165-log4-\u7684\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a></h3><ol><li><code>log4j</code>\u7684\u914D\u7F6E\u6587\u4EF6\u540D\u4E3A<code>log4j.xml</code>,\u5B58\u5728\u7684\u4F4D\u7F6E\u662F<code>src/main/resources</code>\u76EE\u5F55\u4E0B \u65E5\u5FD7\u7684\u7EA7\u522B\uFF1A<code>FATAL\uFF08\u81F4\u547D\uFF09&gt;ERROR\uFF08\u9519\u8BEF\uFF09&gt;WARN\uFF08\u8B66\u544A\uFF09&gt;INFO\uFF08\u4FE1\u606F\uFF09&gt;DEBUG\uFF08\u8C03\u8BD5\uFF09</code> \u4ECE\u5DE6\u5230\u53F3\u6253\u5370\u7684\u5185\u5BB9\u8D8A\u6765\u8D8A\u8BE6\u7EC6</li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>\u8D8A\u6765\u8D8A\u8BE6\u7EC6\uFF0C\u56E0\u4E3A\u540E\u9762\u7684\u7EA7\u522B\u7684\u663E\u793A\u4FE1\u606F\u5305\u62EC\u524D\u9762\u7EA7\u522B\u7684\u4FE1\u606F</p></div><div class="language-xml line-numbers-mode"><pre><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">log4j:configuration</span> <span class="token name">SYSTEM</span> <span class="token string">&quot;log4j.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">log4j:</span>configuration</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>log4j</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://jakarta.apache.org/log4j/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.log4j.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Encoding<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.log4j.PatternLayout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ConversionPattern<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%-5p %d{MM-dd HH:mm:ss,SSS} %m (%F:%L) \\n<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.sql<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debug<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.ibatis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debug<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">log4j:</span>configuration</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div>`,30),o=[e];function l(c,u,i,r,k,g){return a(),s("div",null,o)}var d=n(p,[["render",l]]);export{b as __pageData,d as default};
